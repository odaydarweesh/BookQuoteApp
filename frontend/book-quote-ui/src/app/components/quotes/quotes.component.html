<div class="quotes-container">
    <nav class="navbar">
        <h1>ðŸ’¬ Quotes Management</h1>
        <div class="nav-actions">
            <button routerLink="/books" class="btn-secondary">Books</button>
            <button (click)="logout()" class="btn-logout">Logout</button>
        </div>
    </nav>

    <div class="content">
        <!-- Loading spinner -->
        <div *ngIf="isLoading" class="loading-overlay">
            <div class="spinner"></div>
            <p>Loading quotes...</p>
        </div>

        <div class="header">
            <button (click)="toggleForm()" class="btn-primary">
                {{ showForm ? 'Cancel' : '+ Add New Quote' }}
            </button>
        </div>

        <div *ngIf="showForm" class="form-card">
            <h2>{{ editMode ? 'Edit Quote' : 'New Quote' }}</h2>
            <form (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label>Quote Text</label>
                    <textarea [(ngModel)]="quoteForm.text" name="text" required class="form-control" rows="3">
          </textarea>
                </div>

                <div class="form-group">
                    <label>Author</label>
                    <input type="text" [(ngModel)]="quoteForm.author" name="author" required class="form-control">
                </div>

                <button type="submit" class="btn-primary">
                    {{ editMode ? 'Save Changes' : 'Add Quote' }}
                </button>
            </form>
        </div>

        <!-- Cards -->
        <div class="quotes-grid">
            <div *ngFor="let quote of quotes" class="quote-card">
                <p class="text">"{{ quote.text }}"</p>
                <p class="author">â€” {{ quote.author }}</p>
                <p class="date">ðŸ“… {{ quote.createdAt | date:'yyyy-MM-dd' }}</p>
                <div class="actions">
                    <button (click)="editQuote(quote)" class="btn-edit">Edit</button>
                    <button (click)="deleteQuote(quote.id)" class="btn-delete">Delete</button>
                </div>
            </div>
        </div>

        <div *ngIf="quotes.length === 0 && !isLoading" class="empty-state">
            <p>ðŸ’¬ No quotes yet. Start by adding a new quote!</p>
        </div>

        <!-- Details table -->
        <section class="details-table-section" *ngIf="quotes && quotes.length">
            <h2>Quotes Details</h2>
            <table class="details-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Quote</th>
                        <th>Author</th>
                        <th>Created At</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let quote of quotes; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>{{ quote.text }}</td>
                        <td>{{ quote.author }}</td>
                        <td>{{ quote.createdAt | date:'yyyy-MM-dd HH:mm' }}</td>
                    </tr>
                </tbody>
            </table>
        </section>

    </div>
</div>